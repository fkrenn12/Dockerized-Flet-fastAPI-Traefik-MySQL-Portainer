listener 1883

listener 8083
protocol websockets

# allow_anonymous true

persistence true
persistence_location /mosquitto/data/
log_dest file /mosquitto/log/mosquitto.log

# include_dir /etc/mosquitto/conf.d

# ------------------------------------------------------------
#  Configuration history
#
# ------------------------------------------------------------

allow_anonymous true
password_file /mosquitto/config/passwd
acl_file /mosquitto/config/acl.file

# ------------------------------------------------------------
# this lines are for unsecure connection to the mosquitto broker
# for future preparation, bind ONLY on localhost remarked
# ------------------------------------------------------------

#listener 1883 127.0.0.1
#listener 1883

# ------------------------------------------------------------
# this lines are for secure connection to the mosquitto broker
# ------------------------------------------------------------
listener 8883
cafile /mosquitto/certs/ca.crt
certfile /mosquitto/certs/server.crt
keyfile /mosquitto/certs/server.key

# ------------------------------------------------------------
# this is the websocket connection ( unsecure )
# ------------------------------------------------------------
#listener 1884 127.0.0.1
#protocol websockets

# ------------------------------------------------------------
# this is the secure websocket connection
# ------------------------------------------------------------
listener 8091
protocol websockets
cafile /mosquitto/certs/ca.crt
certfile /mosquitto/certs/server.crt
keyfile /mosquitto/certs/server.key


